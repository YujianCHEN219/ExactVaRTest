---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# ExactVaRTest

Fast exact finite-sample back-testing for Value-at-Risk (VaR) models in R.

<!-- badges: start --><!-- badges: end -->

ExactVaRTest implements dynamic programming algorithms (C++ backend with a pure-R fallback) that give the exact finite-sample distributions and p-values of Christoffersen’s (1998) independence (IND) and conditional-coverage (CC) tests for Value-at-Risk (VaR) exception series. And in particular, it corrects the severe size distortions that the usual asymptotic \(\chi^2\) approximation suffers from in small samples and under extreme coverage rates.

A one-shot helper `backtest_lr()` returns the LR statistic, its exact p-value, and a reject / fail-to-reject decision for a chosen significance level.


## Installation

You can install the development version of ExactVaRTest from [GitHub](https://github.com/) with:

``` r
# install.packages("pak")
pak::pak("YujianCHEN219/ExactVaRTest")
```

## Example

```{r example}
library(ExactVaRTest)

set.seed(42)
x <- rbinom(300, 1, 0.05)          # synthetic exception series (0 = OK, 1 = VaR breach)

bt <- backtest_lr(x, alpha = 0.05, type = "cc")  # LR_cc back-test
print(bt)
```

## Main features

Exact LR distributions and p-values for any sample size \(n\); for \(n \le 2\,000\) the computation finishes in milliseconds to a few seconds.

C++ implementation (`Rcpp`) with automatic fallback to a pure-R reference version.

`backtest_lr()` returns statistic, exact p-value, and reject / fail-to-reject decision in one single call.

Minimal dependencies (`Rcpp`, `stats`), MIT-licensed, works on macOS, Linux, and Windows.

## Acknowledgements

I greatly appreciate Christian Francq, Christophe Hurlin, and Jean-Michel Zakoian's guidance and support.

In particular, Christian Francq generously shared the initial idea; without his help, this package would not exist.

## License

MIT © 2025 Yujian Chen
